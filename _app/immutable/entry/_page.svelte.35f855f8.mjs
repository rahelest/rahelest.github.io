import{S as Ke,i as Ge,s as Qe,e as v,t as w,g as M,c as k,a as T,h as y,d as p,j as B,b as J,f as H,k as a,I as O,l as Y,J as We,n as Te,K as Xe,L as Pe,m as ne,o as Ae,M as Ye,N as R,O as Se}from"../chunks/index.f2503188.mjs";import{w as Z}from"../chunks/index.fe419744.mjs";const Ze=[1,2,3,4,5,6,7,8,9],$e=[1,1,1,2,1,3,1,4,1],xe=[5,1,6,1,7,1,8,1,9];function je(){return[...Ze,...$e,...xe]}function et(e){return Array.isArray(e)?e.every(Number.isInteger):!1}const I=Z(),X=Z([]),ce=Z([]);X.subscribe(e=>{e.length>20&&X.update(t=>t.slice(1))});const tt=Me("isDarkMode",!1,e=>e===!0||e===!1),qe=Z(tt);qe.subscribe(e=>{window.localStorage.setItem("isDarkMode",String(e))});const lt=Me("isHoverMode",!1,e=>e===!0||e===!1),Ee=Z(lt);Ee.subscribe(e=>{window.localStorage.setItem("isHoverMode",String(e))});const nt=Me("save",je(),e=>et(e)),G=Z(nt);G.subscribe(e=>{window.localStorage.setItem("save",JSON.stringify(e))});function Me(e,t,l){try{const n=JSON.parse(window.localStorage.getItem(e)||"");return l(n)||window.localStorage.setItem(e,JSON.stringify(t)),n??t}catch{return t}}function st(e,t,l){const n=e[t],r=e[l],i=t<l?t:l,c=t>l?t:l;if(n!==r&&n+r!==10)throw new Error("Bad match");if(t%9===l%9&&Re(i,c,9).every(d=>!e[d])||Re(i,c,1).every(d=>!e[d]))return Le(e,i,c);throw new Error("Bad match")}function Le(e,t,l){const n=e.slice(0);n[t]=0,n[l]=0;const r=ot(n,t,l);return at(r)}function ot(e,t,l){let n=e.slice(0);const r=t>l?t:l,i=t<l?t:l;for(let c=r;c>=i;c-=9)n=rt(n,c)?it(n,c):n;return n}function rt(e,t){const l=t-t%9;return l+8>e.length?!1:Re(l-1,l+9,1).every(r=>!e[r])}function it(e,t){const l=t-t%9;return[...e.slice(0,l),...e.slice(l+9)]}function Re(e,t,l){const n=Math.floor((t-l-e)/l);return n<1?[]:new Array(n).fill(1).map((r,i)=>e+l*(i+1))}function at(e){let t=e.slice(0),l=e.length;for(let n=e.length-1;n>=0;n--)if(e[n]&&(l=n),l-n>=9)return t=[...e.slice(0,l-9),...e.slice(l)],t;return t}function Fe(e,t,l){const n=e.slice();return n[23]=t[l],n[25]=l,n}function Ie(e,t,l){const n=e.slice();return n[26]=t[l],n}function Je(e,t){let l,n=t[26][0]+"",r,i,c=t[26][1]+"",b;return{key:e,first:null,c(){l=v("br"),r=w(n),i=w(": "),b=w(c),this.h()},l(f){l=k(f,"BR",{}),r=y(f,n),i=y(f,": "),b=y(f,c),this.h()},h(){this.first=l},m(f,d){H(f,l,d),H(f,r,d),H(f,i,d),H(f,b,d)},p(f,d){t=f,d&2&&n!==(n=t[26][0]+"")&&Y(r,n),d&2&&c!==(c=t[26][1]+"")&&Y(b,c)},d(f){f&&p(l),f&&p(r),f&&p(i),f&&p(b)}}}function ct(e){let t;return{c(){t=v("div"),this.h()},l(l){t=k(l,"DIV",{class:!0}),T(t).forEach(p),this.h()},h(){J(t,"class","cell")},m(l,n){H(l,t,n)},p:Te,d(l){l&&p(t)}}}function ut(e){let t,l=e[23]+"",n,r,i,c;function b(){return e[18](e[25])}function f(){return e[19](e[25])}return{c(){t=v("button"),n=w(l),r=M(),this.h()},l(d){t=k(d,"BUTTON",{class:!0});var h=T(t);n=y(h,l),r=B(h),h.forEach(p),this.h()},h(){J(t,"class","cell notEmpty svelte-145t0hz"),R(t,"selected",e[6]===e[25]),R(t,"one",[1,9].includes(e[23])),R(t,"two",[2,8].includes(e[23])),R(t,"three",[3,7].includes(e[23])),R(t,"four",[4,6].includes(e[23])),R(t,"five",[5].includes(e[23]))},m(d,h){H(d,t,h),a(t,n),a(t,r),i||(c=[O(t,"click",function(){Se(e[23]?b:void 0)&&(e[23]?b:void 0).apply(this,arguments)}),O(t,"mouseenter",function(){Se(e[7]?f:void 0)&&(e[7]?f:void 0).apply(this,arguments)}),O(t,"mouseleave",function(){Se(e[7]?e[20]:void 0)&&(e[7]?e[20]:void 0).apply(this,arguments)})],i=!0)},p(d,h){e=d,h&1&&l!==(l=e[23]+"")&&Y(n,l),h&64&&R(t,"selected",e[6]===e[25]),h&1&&R(t,"one",[1,9].includes(e[23])),h&1&&R(t,"two",[2,8].includes(e[23])),h&1&&R(t,"three",[3,7].includes(e[23])),h&1&&R(t,"four",[4,6].includes(e[23])),h&1&&R(t,"five",[5].includes(e[23]))},d(d){d&&p(t),i=!1,Pe(c)}}}function ze(e){let t;function l(i,c){return i[23]?ut:ct}let n=l(e),r=n(e);return{c(){r.c(),t=Ae()},l(i){r.l(i),t=Ae()},m(i,c){r.m(i,c),H(i,t,c)},p(i,c){n===(n=l(i))&&r?r.p(i,c):(r.d(1),r=n(i),r&&(r.c(),r.m(t.parentNode,t)))},d(i){r.d(i),i&&p(t)}}}function ft(e){let t,l,n,r,i,c,b,f,d,h,Q,z,U,$,P,V,x,ee,A,L=e[7]?"Hover":"Click",j,q,C,F,te,s,m,ue,D,g,fe,de,he,se,_e,pe,be,oe,me,ge,ve,N=[],Be=new Map,ke,we,Ce,re=e[1];const Ne=o=>o[26];for(let o=0;o<re.length;o+=1){let u=Ie(e,re,o),_=Ne(u);Be.set(_,N[o]=Je(_,u))}let W=e[0],S=[];for(let o=0;o<W.length;o+=1)S[o]=ze(Fe(e,W,o));return{c(){t=v("div"),l=v("button"),n=w("Undo"),i=M(),c=v("button"),b=w("Redo"),d=M(),h=v("button"),Q=w("Expand"),z=M(),U=v("button"),$=w("Restart"),P=M(),V=v("button"),x=w("Dark/Light"),ee=M(),A=v("button"),j=w(L),q=M(),C=v("div"),F=v("p"),te=w("Clear board by finding "),s=v("a"),m=w("pairs"),ue=M(),D=v("div"),g=v("div"),fe=w(`Stats:
        `),de=v("br"),he=w("Cells: "),se=w(e[3]),_e=M(),pe=v("br"),be=w("Rows: "),oe=w(e[2]),me=M(),ge=v("br"),ve=M();for(let o=0;o<N.length;o+=1)N[o].c();ke=M();for(let o=0;o<S.length;o+=1)S[o].c();this.h()},l(o){t=k(o,"DIV",{class:!0});var u=T(t);l=k(u,"BUTTON",{});var _=T(l);n=y(_,"Undo"),_.forEach(p),i=B(u),c=k(u,"BUTTON",{});var le=T(c);b=y(le,"Redo"),le.forEach(p),d=B(u),h=k(u,"BUTTON",{});var He=T(h);Q=y(He,"Expand"),He.forEach(p),z=B(u),U=k(u,"BUTTON",{});var De=T(U);$=y(De,"Restart"),De.forEach(p),P=B(u),V=k(u,"BUTTON",{});var Oe=T(V);x=y(Oe,"Dark/Light"),Oe.forEach(p),ee=B(u),A=k(u,"BUTTON",{});var Ue=T(A);j=y(Ue,L),Ue.forEach(p),u.forEach(p),q=B(o),C=k(o,"DIV",{class:!0});var ie=T(C);F=k(ie,"P",{});var ye=T(F);te=y(ye,"Clear board by finding "),s=k(ye,"A",{href:!0,target:!0});var Ve=T(s);m=y(Ve,"pairs"),Ve.forEach(p),ye.forEach(p),ue=B(ie),D=k(ie,"DIV",{class:!0});var ae=T(D);g=k(ae,"DIV",{class:!0});var E=T(g);fe=y(E,`Stats:
        `),de=k(E,"BR",{}),he=y(E,"Cells: "),se=y(E,e[3]),_e=B(E),pe=k(E,"BR",{}),be=y(E,"Rows: "),oe=y(E,e[2]),me=B(E),ge=k(E,"BR",{}),ve=B(E);for(let K=0;K<N.length;K+=1)N[K].l(E);E.forEach(p),ke=B(ae);for(let K=0;K<S.length;K+=1)S[K].l(ae);ae.forEach(p),ie.forEach(p),this.h()},h(){l.disabled=r=!e[5].length,c.disabled=f=!e[4].length,J(t,"class","main__menu"),J(s,"href","/guide"),J(s,"target","_blank"),J(g,"class","main__stats"),J(D,"class","main__table"),J(C,"class","main__wrapper")},m(o,u){H(o,t,u),a(t,l),a(l,n),a(t,i),a(t,c),a(c,b),a(t,d),a(t,h),a(h,Q),a(t,z),a(t,U),a(U,$),a(t,P),a(t,V),a(V,x),a(t,ee),a(t,A),a(A,j),H(o,q,u),H(o,C,u),a(C,F),a(F,te),a(F,s),a(s,m),a(C,ue),a(C,D),a(D,g),a(g,fe),a(g,de),a(g,he),a(g,se),a(g,_e),a(g,pe),a(g,be),a(g,oe),a(g,me),a(g,ge),a(g,ve);for(let _=0;_<N.length;_+=1)N[_].m(g,null);a(D,ke);for(let _=0;_<S.length;_+=1)S[_].m(D,null);we||(Ce=[O(l,"click",e[11]),O(c,"click",e[12]),O(h,"click",e[9]),O(U,"click",e[8]),O(V,"click",e[13]),O(A,"click",e[14])],we=!0)},p(o,[u]){if(u&32&&r!==(r=!o[5].length)&&(l.disabled=r),u&16&&f!==(f=!o[4].length)&&(c.disabled=f),u&128&&L!==(L=o[7]?"Hover":"Click")&&Y(j,L),u&8&&Y(se,o[3]),u&4&&Y(oe,o[2]),u&2&&(re=o[1],N=We(N,u,Ne,1,o,re,Be,g,Ye,Je,null,Ie)),u&99521){W=o[0];let _;for(_=0;_<W.length;_+=1){const le=Fe(o,W,_);S[_]?S[_].p(le,u):(S[_]=ze(le),S[_].c(),S[_].m(D,null))}for(;_<S.length;_+=1)S[_].d(1);S.length=W.length}},i:Te,o:Te,d(o){o&&p(t),o&&p(q),o&&p(C);for(let u=0;u<N.length;u+=1)N[u].d();Xe(S,o),we=!1,Pe(Ce)}}}function dt(e,t,l){let n,r,i,c,b,f,d,h,Q;ne(e,G,s=>l(0,b=s)),ne(e,ce,s=>l(4,f=s)),ne(e,X,s=>l(5,d=s)),ne(e,I,s=>l(6,h=s)),ne(e,Ee,s=>l(7,Q=s));const z=()=>{X.update(s=>[...s,b]),ce.set([])},U=()=>{z(),G.set(je()),I.set(void 0)},$=()=>{z(),G.update(s=>s.slice(0).concat(...s.filter(m=>m>0)))},P=s=>{if(h===void 0){I.set(s);return}if(h===s){I.set(void 0);return}try{const m=st(b,h,s);z(),G.set(m),I.set(void 0)}catch{I.set(s)}},V=()=>{if(d.length>0){I.set(void 0);const s=d[d.length-1];X.update(m=>m.slice(0,d.length-1)),ce.update(m=>[b,...m]),G.set(s)}},x=()=>{if(f.length>0){I.set(void 0);const s=f[0];ce.update(m=>m.slice(1)),X.update(m=>[...m,b]),G.set(s)}},ee=()=>{qe.update(s=>!s),document.body.classList.toggle("dark")},A=()=>{Ee.update(s=>!s)};let L;const j=s=>{L=setTimeout(()=>{P(s)},200)},q=()=>{clearTimeout(L)},C=s=>P(s),F=s=>j(s),te=()=>q();return e.$$.update=()=>{e.$$.dirty&1&&l(3,n=b.filter(Boolean).length),e.$$.dirty&1&&l(2,r=Math.ceil(b.length/9)),e.$$.dirty&131073&&l(1,c=i.map(s=>[s,b.filter(m=>m===s).length]))},l(17,i=new Array(9).fill(1).map((s,m)=>m+1)),[b,c,r,n,f,d,h,Q,U,$,P,V,x,ee,A,j,q,i,C,F,te]}class pt extends Ke{constructor(t){super(),Ge(this,t,dt,ft,Qe,{})}}export{pt as default};
