import{r as Be,s as Ke,n as Me,c as le,i as Se}from"../chunks/scheduler.Bmg8oFKD.js";import{p as Qe,S as We,i as Xe,e as b,s as D,t as L,z as Ye,c as w,d as v,j as V,f as I,h as z,g as ce,a as Y,k as u,b as K,A as G,l as te,B as Ze,m as ze,C as A}from"../chunks/index.nCq1ZYsH.js";import{w as ne}from"../chunks/index.D_GRTHN4.js";const $e=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function ue(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function xe(e,t){e.d(1),t.delete(e.key)}function et(e,t,n,l,s,i,a,_,d,c,h,J){let y=e.length,T=i.length,B=y;const F={};for(;B--;)F[e[B].key]=B;const R=[],Q=new Map,P=new Map,O=[];for(B=T;B--;){const m=J(s,i,B),S=n(m);let M=a.get(S);M?l&&O.push(()=>M.p(m,t)):(M=c(S,m),M.c()),Q.set(S,R[B]=M),S in F&&P.set(S,Math.abs(B-F[S]))}const W=new Set,j=new Set;function H(m){Qe(m,1),m.m(_,h),a.set(m.key,m),h=m.first,T--}for(;y&&T;){const m=R[T-1],S=e[y-1],M=m.key,o=S.key;m===S?(h=m.first,y--,T--):Q.has(o)?!a.has(M)||W.has(M)?H(m):j.has(o)?y--:P.get(M)>P.get(o)?(j.add(M),H(m)):(W.add(o),y--):(d(S,a),y--)}for(;y--;){const m=e[y];Q.has(m.key)||d(m,a)}for(;T;)H(R[T-1]);return Be(O),R}const tt=[1,2,3,4,5,6,7,8,9],nt=[1,1,1,2,1,3,1,4,1],lt=[5,1,6,1,7,1,8,1,9];function qe(){return[...tt,...nt,...lt]}function st(e){return Array.isArray(e)?e.every(Number.isInteger):!1}const X=ne(),ee=ne([]),fe=ne([]);ee.subscribe(e=>{e.length>20&&ee.update(t=>t.slice(1))});const ot=He("isDarkMode",!1,e=>e===!0||e===!1),Ge=ne(ot);Ge.subscribe(e=>{window.localStorage.setItem("isDarkMode",String(e))});const it=He("isHoverMode",!1,e=>e===!0||e===!1),Ee=ne(it);Ee.subscribe(e=>{window.localStorage.setItem("isHoverMode",String(e))});const rt=He("save",qe(),e=>st(e)),$=ne(rt);$.subscribe(e=>{window.localStorage.setItem("save",JSON.stringify(e))});function He(e,t,n){try{const l=JSON.parse(window.localStorage.getItem(e)||"");return n(l)||window.localStorage.setItem(e,JSON.stringify(t)),l??t}catch{return t}}function at(e,t,n){const l=e[t],s=e[n],i=t<n?t:n,a=t>n?t:n;if(l!==s&&l+s!==10)throw new Error("Bad match");if(t%9===n%9&&Re(i,a,9).every(c=>!e[c])||Re(i,a,1).every(c=>!e[c]))return Fe(e,i,a);throw new Error("Bad match")}function Fe(e,t,n){const l=e.slice(0);l[t]=0,l[n]=0;const s=ct(l,t,n);return dt(s)}function ct(e,t,n){let l=e.slice(0);const s=t>n?t:n,i=t<n?t:n;for(let a=s;a>=i;a-=9)l=ut(l,a)?ft(l,a):l;return l}function ut(e,t){const n=t-t%9;return n+8>e.length?!1:Re(n-1,n+9,1).every(s=>!e[s])}function ft(e,t){const n=t-t%9;return[...e.slice(0,n),...e.slice(n+9)]}function Re(e,t,n){const l=Math.floor((t-n-e)/n);return l<1?[]:new Array(l).fill(1).map((s,i)=>e+n*(i+1))}function dt(e){let t=e.slice(0),n=e.length;for(let l=e.length-1;l>=0;l--)if(e[l]&&(n=l),n-l>=9)return t=[...e.slice(0,n-9),...e.slice(n)],t;return t}const{document:Ce}=$e;function Ie(e,t,n){const l=e.slice();return l[23]=t[n],l[25]=n,l}function Je(e,t,n){const l=e.slice();return l[26]=t[n],l}function Pe(e,t){let n,l=t[26][0]+"",s,i,a=t[26][1]+"",_;return{key:e,first:null,c(){n=b("br"),s=L(l),i=L(": "),_=L(a),this.h()},l(d){n=w(d,"BR",{}),s=z(d,l),i=z(d,": "),_=z(d,a),this.h()},h(){this.first=n},m(d,c){K(d,n,c),K(d,s,c),K(d,i,c),K(d,_,c)},p(d,c){t=d,c&2&&l!==(l=t[26][0]+"")&&te(s,l),c&2&&a!==(a=t[26][1]+"")&&te(_,a)},d(d){d&&(v(n),v(s),v(i),v(_))}}}function ht(e){let t;return{c(){t=b("div"),this.h()},l(n){t=w(n,"DIV",{class:!0}),I(t).forEach(v),this.h()},h(){Y(t,"class","cell")},m(n,l){K(n,t,l)},p:Me,d(n){n&&v(t)}}}function _t(e){let t,n=e[23]+"",l,s,i,a;function _(){return e[18](e[25])}function d(){return e[19](e[25])}return{c(){t=b("button"),l=L(n),s=D(),this.h()},l(c){t=w(c,"BUTTON",{class:!0});var h=I(t);l=z(h,n),s=V(h),h.forEach(v),this.h()},h(){Y(t,"class","cell notEmpty svelte-145t0hz"),A(t,"selected",e[6]===e[25]),A(t,"one",[1,9].includes(e[23])),A(t,"two",[2,8].includes(e[23])),A(t,"three",[3,7].includes(e[23])),A(t,"four",[4,6].includes(e[23])),A(t,"five",[5].includes(e[23]))},m(c,h){K(c,t,h),u(t,l),u(t,s),i||(a=[G(t,"click",function(){Se(e[23]?_:void 0)&&(e[23]?_:void 0).apply(this,arguments)}),G(t,"mouseenter",function(){Se(e[7]?d:void 0)&&(e[7]?d:void 0).apply(this,arguments)}),G(t,"mouseleave",function(){Se(e[7]?e[20]:void 0)&&(e[7]?e[20]:void 0).apply(this,arguments)})],i=!0)},p(c,h){e=c,h&1&&n!==(n=e[23]+"")&&te(l,n),h&64&&A(t,"selected",e[6]===e[25]),h&1&&A(t,"one",[1,9].includes(e[23])),h&1&&A(t,"two",[2,8].includes(e[23])),h&1&&A(t,"three",[3,7].includes(e[23])),h&1&&A(t,"four",[4,6].includes(e[23])),h&1&&A(t,"five",[5].includes(e[23]))},d(c){c&&v(t),i=!1,Be(a)}}}function je(e){let t;function n(i,a){return i[23]?_t:ht}let l=n(e),s=l(e);return{c(){s.c(),t=ze()},l(i){s.l(i),t=ze()},m(i,a){s.m(i,a),K(i,t,a)},p(i,a){l===(l=n(i))&&s?s.p(i,a):(s.d(1),s=l(i),s&&(s.c(),s.m(t.parentNode,t)))},d(i){i&&v(t),s.d(i)}}}function mt(e){let t,n,l,s,i,a,_,d,c,h,J,y,T,B="Expand",F,R,Q="Restart",P,O,W="Dark/Light",j,H,m=e[7]?"Hover":"Click",S,M,o,g,Ne='Clear board by finding <a href="/guide" target="_blank">pairs</a>',de,q,k,he,_e,me,se,ge,pe,ve,oe,be,we,ke,U=[],De=new Map,ye,Te,Ve,ie=ue(e[1]);const Oe=r=>r[26];for(let r=0;r<ie.length;r+=1){let p=Je(e,ie,r),f=Oe(p);De.set(f,U[r]=Pe(f,p))}let x=ue(e[0]),C=[];for(let r=0;r<x.length;r+=1)C[r]=je(Ie(e,x,r));return{c(){t=b("meta"),n=D(),l=b("div"),s=b("div"),i=b("button"),a=L("Undo"),d=D(),c=b("button"),h=L("Redo"),y=D(),T=b("button"),T.textContent=B,F=D(),R=b("button"),R.textContent=Q,P=D(),O=b("button"),O.textContent=W,j=D(),H=b("button"),S=L(m),M=D(),o=b("div"),g=b("p"),g.innerHTML=Ne,de=D(),q=b("div"),k=b("div"),he=L(`Stats:
        `),_e=b("br"),me=L("Cells: "),se=L(e[3]),ge=D(),pe=b("br"),ve=L("Rows: "),oe=L(e[2]),be=D(),we=b("br"),ke=D();for(let r=0;r<U.length;r+=1)U[r].c();ye=D();for(let r=0;r<C.length;r+=1)C[r].c();this.h()},l(r){const p=Ye("svelte-1xsdtyd",Ce.head);t=w(p,"META",{name:!0,content:!0}),p.forEach(v),n=V(r),l=w(r,"DIV",{});var f=I(l);s=w(f,"DIV",{class:!0});var E=I(s);i=w(E,"BUTTON",{});var Ue=I(i);a=z(Ue,"Undo"),Ue.forEach(v),d=V(E),c=w(E,"BUTTON",{});var Ae=I(c);h=z(Ae,"Redo"),Ae.forEach(v),y=V(E),T=w(E,"BUTTON",{"data-svelte-h":!0}),ce(T)!=="svelte-177tbeg"&&(T.textContent=B),F=V(E),R=w(E,"BUTTON",{"data-svelte-h":!0}),ce(R)!=="svelte-ijq3fw"&&(R.textContent=Q),P=V(E),O=w(E,"BUTTON",{"data-svelte-h":!0}),ce(O)!=="svelte-3pc124"&&(O.textContent=W),j=V(E),H=w(E,"BUTTON",{});var Le=I(H);S=z(Le,m),Le.forEach(v),E.forEach(v),M=V(f),o=w(f,"DIV",{class:!0});var re=I(o);g=w(re,"P",{"data-svelte-h":!0}),ce(g)!=="svelte-r5sdif"&&(g.innerHTML=Ne),de=V(re),q=w(re,"DIV",{class:!0});var ae=I(q);k=w(ae,"DIV",{class:!0});var N=I(k);he=z(N,`Stats:
        `),_e=w(N,"BR",{}),me=z(N,"Cells: "),se=z(N,e[3]),ge=V(N),pe=w(N,"BR",{}),ve=z(N,"Rows: "),oe=z(N,e[2]),be=V(N),we=w(N,"BR",{}),ke=V(N);for(let Z=0;Z<U.length;Z+=1)U[Z].l(N);N.forEach(v),ye=V(ae);for(let Z=0;Z<C.length;Z+=1)C[Z].l(ae);ae.forEach(v),re.forEach(v),f.forEach(v),this.h()},h(){Ce.title="Numbrikas",Y(t,"name","description"),Y(t,"content","A game of numbers"),i.disabled=_=!e[5].length,c.disabled=J=!e[4].length,Y(s,"class","main__menu"),Y(k,"class","main__stats"),Y(q,"class","main__table"),Y(o,"class","main__wrapper")},m(r,p){u(Ce.head,t),K(r,n,p),K(r,l,p),u(l,s),u(s,i),u(i,a),u(s,d),u(s,c),u(c,h),u(s,y),u(s,T),u(s,F),u(s,R),u(s,P),u(s,O),u(s,j),u(s,H),u(H,S),u(l,M),u(l,o),u(o,g),u(o,de),u(o,q),u(q,k),u(k,he),u(k,_e),u(k,me),u(k,se),u(k,ge),u(k,pe),u(k,ve),u(k,oe),u(k,be),u(k,we),u(k,ke);for(let f=0;f<U.length;f+=1)U[f]&&U[f].m(k,null);u(q,ye);for(let f=0;f<C.length;f+=1)C[f]&&C[f].m(q,null);Te||(Ve=[G(i,"click",e[11]),G(c,"click",e[12]),G(T,"click",e[9]),G(R,"click",e[8]),G(O,"click",e[13]),G(H,"click",e[14])],Te=!0)},p(r,[p]){if(p&32&&_!==(_=!r[5].length)&&(i.disabled=_),p&16&&J!==(J=!r[4].length)&&(c.disabled=J),p&128&&m!==(m=r[7]?"Hover":"Click")&&te(S,m),p&8&&te(se,r[3]),p&4&&te(oe,r[2]),p&2&&(ie=ue(r[1]),U=et(U,p,Oe,1,r,ie,De,k,xe,Pe,null,Je)),p&99521){x=ue(r[0]);let f;for(f=0;f<x.length;f+=1){const E=Ie(r,x,f);C[f]?C[f].p(E,p):(C[f]=je(E),C[f].c(),C[f].m(q,null))}for(;f<C.length;f+=1)C[f].d(1);C.length=x.length}},i:Me,o:Me,d(r){r&&(v(n),v(l)),v(t);for(let p=0;p<U.length;p+=1)U[p].d();Ze(C,r),Te=!1,Be(Ve)}}}function gt(e,t,n){let l,s,i,a,_,d,c,h,J;le(e,$,o=>n(0,_=o)),le(e,fe,o=>n(4,d=o)),le(e,ee,o=>n(5,c=o)),le(e,X,o=>n(6,h=o)),le(e,Ee,o=>n(7,J=o));const y=()=>{ee.update(o=>[...o,_]),fe.set([])},T=()=>{y(),$.set(qe()),X.set(void 0)},B=()=>{y(),$.update(o=>o.slice(0).concat(...o.filter(g=>g>0)))},F=o=>{if(h===void 0){X.set(o);return}if(h===o){X.set(void 0);return}try{const g=at(_,h,o);y(),$.set(g),X.set(void 0)}catch{X.set(o)}},R=()=>{if(c.length>0){X.set(void 0);const o=c[c.length-1];ee.update(g=>g.slice(0,c.length-1)),fe.update(g=>[_,...g]),$.set(o)}},Q=()=>{if(d.length>0){X.set(void 0);const o=d[0];fe.update(g=>g.slice(1)),ee.update(g=>[...g,_]),$.set(o)}},P=()=>{Ge.update(o=>!o),document.body.classList.toggle("dark")},O=()=>{Ee.update(o=>!o)};let W;const j=o=>{W=setTimeout(()=>{F(o)},200)},H=()=>{clearTimeout(W)},m=o=>F(o),S=o=>j(o),M=()=>H();return e.$$.update=()=>{e.$$.dirty&1&&n(3,l=_.filter(Boolean).length),e.$$.dirty&1&&n(2,s=Math.ceil(_.length/9)),e.$$.dirty&131073&&n(1,a=i.map(o=>[o,_.filter(g=>g===o).length]))},n(17,i=new Array(9).fill(1).map((o,g)=>g+1)),[_,a,s,l,d,c,h,J,T,B,F,R,Q,P,O,j,H,i,m,S,M]}class wt extends We{constructor(t){super(),Xe(this,t,gt,mt,Ke,{})}}export{wt as component};
