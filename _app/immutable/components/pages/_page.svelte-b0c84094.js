import{S as fe,i as de,s as he,k as g,q as B,a as V,l as v,m as k,r as C,h,c as A,n as J,b as z,G as d,I as U,B as Y,J as _e,K as ie,H as X,e as re,L as b,M as me,u as pe}from"../../chunks/index-a3cb497a.js";import{w as K}from"../../chunks/index-673c3b48.js";const be=[1,2,3,4,5,6,7,8,9],ge=[1,1,1,2,1,3,1,4,1],ve=[5,1,6,1,7,1,8,1,9];function ae(){return[...be,...ge,...ve]}function ke(t){return Array.isArray(t)?t.every(Number.isInteger):!1}const D=K(),O=K([]);O.subscribe(t=>{t.length>20&&O.update(e=>e.slice(1))});const we=ue("isDarkMode",!1,t=>t===!0||t===!1),ce=K(we);ce.subscribe(t=>{window.localStorage.setItem("isDarkMode",String(t))});const ye=ue("save",ae(),t=>ke(t)),L=K(ye);L.subscribe(t=>{window.localStorage.setItem("save",JSON.stringify(t))});function ue(t,e,n){try{const r=JSON.parse(window.localStorage.getItem(t)||"");return n(r)||window.localStorage.setItem(t,JSON.stringify(e)),r!=null?r:e}catch{return e}}function Te(t,e,n){const r=t[e],l=t[n],s=e<n?e:n,i=e>n?e:n;if(r!==l&&r+l!==10)throw new Error("Bad match");if(e%9===n%9&&Z(s,i,9).every(c=>!t[c])||Z(s,i,1).every(c=>!t[c]))return le(t,s,i);throw new Error("Bad match")}function le(t,e,n){const r=t.slice(0);r[e]=0,r[n]=0;const l=Se(r,e,n);return De(l)}function Se(t,e,n){let r=t.slice(0);const l=e>n?e:n,s=e<n?e:n;for(let i=l;i>=s;i-=9)r=Ee(r,i)?Ne(r,i):r;return r}function Ee(t,e){const n=e-e%9;return n+8>t.length?!1:Z(n-1,n+9,1).every(l=>!t[l])}function Ne(t,e){const n=e-e%9;return[...t.slice(0,n),...t.slice(n+9)]}function Z(t,e,n){const r=Math.floor((e-n-t)/n);return r<1?[]:new Array(r).fill(1).map((l,s)=>t+n*(s+1))}function De(t){let e=t.slice(0),n=t.length;for(let r=t.length-1;r>=0;r--)if(t[r]&&(n=r),n-r>=9)return e=[...t.slice(0,n-9),...t.slice(n)],e;return e}function se(t,e,n){const r=t.slice();return r[14]=e[n],r[16]=n,r}function Be(t){let e;return{c(){e=g("button")},l(n){e=v(n,"BUTTON",{}),k(e).forEach(h)},m(n,r){z(n,e,r)},p:Y,d(n){n&&h(e)}}}function Ce(t){let e,n=t[14]+"",r,l,s,i;function T(){return t[10](t[16])}function w(){return t[11](t[16])}return{c(){e=g("button"),r=B(n),l=V(),this.h()},l(c){e=v(c,"BUTTON",{class:!0});var u=k(e);r=C(u,n),l=A(u),u.forEach(h),this.h()},h(){J(e,"class","notEmpty svelte-145t0hz"),b(e,"selected",t[2]===t[16]),b(e,"one",[1,9].includes(t[14])),b(e,"two",[2,8].includes(t[14])),b(e,"three",[3,7].includes(t[14])),b(e,"four",[4,6].includes(t[14])),b(e,"five",[5].includes(t[14]))},m(c,u){z(c,e,u),d(e,r),d(e,l),s||(i=[U(e,"click",function(){me(t[14]?T:void 0)&&(t[14]?T:void 0).apply(this,arguments)}),U(e,"mouseenter",w),U(e,"mouseleave",t[12])],s=!0)},p(c,u){t=c,u&2&&n!==(n=t[14]+"")&&pe(r,n),u&4&&b(e,"selected",t[2]===t[16]),u&2&&b(e,"one",[1,9].includes(t[14])),u&2&&b(e,"two",[2,8].includes(t[14])),u&2&&b(e,"three",[3,7].includes(t[14])),u&2&&b(e,"four",[4,6].includes(t[14])),u&2&&b(e,"five",[5].includes(t[14]))},d(c){c&&h(e),s=!1,ie(i)}}}function oe(t){let e;function n(s,i){return s[14]?Ce:Be}let r=n(t),l=r(t);return{c(){l.c(),e=re()},l(s){l.l(s),e=re()},m(s,i){l.m(s,i),z(s,e,i)},p(s,i){r===(r=n(s))&&l?l.p(s,i):(l.d(1),l=r(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&h(e)}}}function Oe(t){let e,n,r,l,s,i,T,w,c,u,M,S,R,P,y,E,o,p,q,j,N,I,$,H=t[1],_=[];for(let a=0;a<H.length;a+=1)_[a]=oe(se(t,H,a));return{c(){e=g("div"),n=g("button"),r=B("Undo"),s=V(),i=g("button"),T=B("Expand"),w=V(),c=g("button"),u=B("Restart"),M=V(),S=g("button"),R=B("Dark/Light"),P=V(),y=g("div"),E=g("p"),o=B("Clear board by finding "),p=g("a"),q=B("pairs"),j=V(),N=g("div");for(let a=0;a<_.length;a+=1)_[a].c();this.h()},l(a){e=v(a,"DIV",{class:!0});var m=k(e);n=v(m,"BUTTON",{});var f=k(n);r=C(f,"Undo"),f.forEach(h),s=A(m),i=v(m,"BUTTON",{});var F=k(i);T=C(F,"Expand"),F.forEach(h),w=A(m),c=v(m,"BUTTON",{});var x=k(c);u=C(x,"Restart"),x.forEach(h),M=A(m),S=v(m,"BUTTON",{});var ee=k(S);R=C(ee,"Dark/Light"),ee.forEach(h),m.forEach(h),P=A(a),y=v(a,"DIV",{class:!0});var G=k(y);E=v(G,"P",{});var Q=k(E);o=C(Q,"Clear board by finding "),p=v(Q,"A",{href:!0,target:!0});var te=k(p);q=C(te,"pairs"),te.forEach(h),Q.forEach(h),j=A(G),N=v(G,"DIV",{class:!0});var ne=k(N);for(let W=0;W<_.length;W+=1)_[W].l(ne);ne.forEach(h),G.forEach(h),this.h()},h(){n.disabled=l=!t[0].length,J(e,"class","main__menu"),J(p,"href","/guide"),J(p,"target","_blank"),J(N,"class","main__table"),J(y,"class","main__wrapper")},m(a,m){z(a,e,m),d(e,n),d(n,r),d(e,s),d(e,i),d(i,T),d(e,w),d(e,c),d(c,u),d(e,M),d(e,S),d(S,R),z(a,P,m),z(a,y,m),d(y,E),d(E,o),d(E,p),d(p,q),d(y,j),d(y,N);for(let f=0;f<_.length;f+=1)_[f].m(N,null);I||($=[U(n,"click",t[6]),U(i,"click",t[4]),U(c,"click",t[3]),U(S,"click",t[7])],I=!0)},p(a,[m]){if(m&1&&l!==(l=!a[0].length)&&(n.disabled=l),m&806){H=a[1];let f;for(f=0;f<H.length;f+=1){const F=se(a,H,f);_[f]?_[f].p(F,m):(_[f]=oe(F),_[f].c(),_[f].m(N,null))}for(;f<_.length;f+=1)_[f].d(1);_.length=H.length}},i:Y,o:Y,d(a){a&&h(e),a&&h(P),a&&h(y),_e(_,a),I=!1,ie($)}}}function Ue(t,e,n){let r,l,s;X(t,O,o=>n(0,r=o)),X(t,L,o=>n(1,l=o)),X(t,D,o=>n(2,s=o));const i=()=>{O.update(o=>[...o,l]),L.set(ae()),D.set(void 0)},T=()=>{O.update(o=>[...o,l]),L.update(o=>o.slice(0).concat(...o.filter(p=>p>0)))},w=o=>{if(s===void 0){D.set(o);return}if(s===o){D.set(void 0);return}try{const p=Te(l,s,o);O.update(q=>[...q,l]),L.set(p),D.set(void 0)}catch(p){console.error(p),D.set(o)}},c=()=>{if(r.length>0){D.set(void 0);const o=r[r.length-1];O.update(p=>p.slice(0,r.length-1)),L.set(o)}},u=()=>{ce.update(o=>!o),document.body.classList.toggle("dark")};let M;const S=o=>{M=setTimeout(()=>{w(o)},200)},R=()=>{clearTimeout(M)};return[r,l,s,i,T,w,c,u,S,R,o=>w(o),o=>S(o),()=>R()]}class He extends fe{constructor(e){super(),de(this,e,Ue,Oe,he,{})}}export{He as default};
