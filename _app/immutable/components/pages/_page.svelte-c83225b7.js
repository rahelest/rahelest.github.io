import{S as Ee,i as He,s as Me,k as b,q as S,a as C,l as g,m as v,r as E,h as _,c as D,n as A,b as q,G as c,I as H,u as we,B as re,J as Ne,K as Te,H as Y,e as be,L as w,M as le}from"../../chunks/index-d14d5865.js";import{w as G}from"../../chunks/index-aae98013.js";const Ce=[1,2,3,4,5,6,7,8,9],De=[1,1,1,2,1,3,1,4,1],Be=[5,1,6,1,7,1,8,1,9];function ye(){return[...Ce,...De,...Be]}function Oe(e){return Array.isArray(e)?e.every(Number.isInteger):!1}const N=G(),P=G([]),$=G([]);P.subscribe(e=>{e.length>20&&P.update(t=>t.slice(1))});const Re=ce("isDarkMode",!1,e=>e===!0||e===!1),Se=G(Re);Se.subscribe(e=>{window.localStorage.setItem("isDarkMode",String(e))});const Ue=ce("isHoverMode",!1,e=>e===!0||e===!1),ie=G(Ue);ie.subscribe(e=>{window.localStorage.setItem("isHoverMode",String(e))});const Ve=ce("save",ye(),e=>Oe(e)),V=G(Ve);V.subscribe(e=>{window.localStorage.setItem("save",JSON.stringify(e))});function ce(e,t,n){try{const o=JSON.parse(window.localStorage.getItem(e)||"");return n(o)||window.localStorage.setItem(e,JSON.stringify(t)),o??t}catch{return t}}function Ae(e,t,n){const o=e[t],r=e[n],l=t<n?t:n,i=t>n?t:n;if(o!==r&&o+r!==10)throw new Error("Bad match");if(t%9===n%9&&ae(l,i,9).every(p=>!e[p])||ae(l,i,1).every(p=>!e[p]))return ge(e,l,i);throw new Error("Bad match")}function ge(e,t,n){const o=e.slice(0);o[t]=0,o[n]=0;const r=Fe(o,t,n);return ze(r)}function Fe(e,t,n){let o=e.slice(0);const r=t>n?t:n,l=t<n?t:n;for(let i=r;i>=l;i-=9)o=Je(o,i)?Le(o,i):o;return o}function Je(e,t){const n=t-t%9;return n+8>e.length?!1:ae(n-1,n+9,1).every(r=>!e[r])}function Le(e,t){const n=t-t%9;return[...e.slice(0,n),...e.slice(n+9)]}function ae(e,t,n){const o=Math.floor((t-n-e)/n);return o<1?[]:new Array(o).fill(1).map((r,l)=>e+n*(l+1))}function ze(e){let t=e.slice(0),n=e.length;for(let o=e.length-1;o>=0;o--)if(e[o]&&(n=o),n-o>=9)return t=[...e.slice(0,n-9),...e.slice(n)],t;return t}function ve(e,t,n){const o=e.slice();return o[19]=t[n],o[21]=n,o}function Ie(e){let t;return{c(){t=b("div"),this.h()},l(n){t=g(n,"DIV",{class:!0}),v(t).forEach(_),this.h()},h(){A(t,"class","cell")},m(n,o){q(n,t,o)},p:re,d(n){n&&_(t)}}}function Pe(e){let t,n=e[19]+"",o,r,l,i;function T(){return e[14](e[21])}function k(){return e[15](e[21])}return{c(){t=b("button"),o=S(n),r=C(),this.h()},l(p){t=g(p,"BUTTON",{class:!0});var u=v(t);o=E(u,n),r=D(u),u.forEach(_),this.h()},h(){A(t,"class","cell notEmpty svelte-145t0hz"),w(t,"selected",e[3]===e[21]),w(t,"one",[1,9].includes(e[19])),w(t,"two",[2,8].includes(e[19])),w(t,"three",[3,7].includes(e[19])),w(t,"four",[4,6].includes(e[19])),w(t,"five",[5].includes(e[19]))},m(p,u){q(p,t,u),c(t,o),c(t,r),l||(i=[H(t,"click",function(){le(e[19]?T:void 0)&&(e[19]?T:void 0).apply(this,arguments)}),H(t,"mouseenter",function(){le(e[4]?k:void 0)&&(e[4]?k:void 0).apply(this,arguments)}),H(t,"mouseleave",function(){le(e[4]?e[16]:void 0)&&(e[4]?e[16]:void 0).apply(this,arguments)})],l=!0)},p(p,u){e=p,u&1&&n!==(n=e[19]+"")&&we(o,n),u&8&&w(t,"selected",e[3]===e[21]),u&1&&w(t,"one",[1,9].includes(e[19])),u&1&&w(t,"two",[2,8].includes(e[19])),u&1&&w(t,"three",[3,7].includes(e[19])),u&1&&w(t,"four",[4,6].includes(e[19])),u&1&&w(t,"five",[5].includes(e[19]))},d(p){p&&_(t),l=!1,Te(i)}}}function ke(e){let t;function n(l,i){return l[19]?Pe:Ie}let o=n(e),r=o(e);return{c(){r.c(),t=be()},l(l){r.l(l),t=be()},m(l,i){r.m(l,i),q(l,t,i)},p(l,i){o===(o=n(l))&&r?r.p(l,i):(r.d(1),r=o(l),r&&(r.c(),r.m(t.parentNode,t)))},d(l){r.d(l),l&&_(t)}}}function qe(e){let t,n,o,r,l,i,T,k,p,u,B,K,M,j,Q,y,F,J,O,L=e[4]?"Hover":"Click",W,s,d,z,x,R,ee,te,U,ne,ue,I=e[0],m=[];for(let a=0;a<I.length;a+=1)m[a]=ke(ve(e,I,a));return{c(){t=b("div"),n=b("button"),o=S("Undo"),l=C(),i=b("button"),T=S("Redo"),p=C(),u=b("button"),B=S("Expand"),K=C(),M=b("button"),j=S("Restart"),Q=C(),y=b("button"),F=S("Dark/Light"),J=C(),O=b("button"),W=S(L),s=C(),d=b("div"),z=b("p"),x=S("Clear board by finding "),R=b("a"),ee=S("pairs"),te=C(),U=b("div");for(let a=0;a<m.length;a+=1)m[a].c();this.h()},l(a){t=g(a,"DIV",{class:!0});var f=v(t);n=g(f,"BUTTON",{});var h=v(n);o=E(h,"Undo"),h.forEach(_),l=D(f),i=g(f,"BUTTON",{});var X=v(i);T=E(X,"Redo"),X.forEach(_),p=D(f),u=g(f,"BUTTON",{});var de=v(u);B=E(de,"Expand"),de.forEach(_),K=D(f),M=g(f,"BUTTON",{});var fe=v(M);j=E(fe,"Restart"),fe.forEach(_),Q=D(f),y=g(f,"BUTTON",{});var he=v(y);F=E(he,"Dark/Light"),he.forEach(_),J=D(f),O=g(f,"BUTTON",{});var _e=v(O);W=E(_e,L),_e.forEach(_),f.forEach(_),s=D(a),d=g(a,"DIV",{class:!0});var Z=v(d);z=g(Z,"P",{});var oe=v(z);x=E(oe,"Clear board by finding "),R=g(oe,"A",{href:!0,target:!0});var pe=v(R);ee=E(pe,"pairs"),pe.forEach(_),oe.forEach(_),te=D(Z),U=g(Z,"DIV",{class:!0});var me=v(U);for(let se=0;se<m.length;se+=1)m[se].l(me);me.forEach(_),Z.forEach(_),this.h()},h(){n.disabled=r=!e[2].length,i.disabled=k=!e[1].length,A(t,"class","main__menu"),A(R,"href","/guide"),A(R,"target","_blank"),A(U,"class","main__table"),A(d,"class","main__wrapper")},m(a,f){q(a,t,f),c(t,n),c(n,o),c(t,l),c(t,i),c(i,T),c(t,p),c(t,u),c(u,B),c(t,K),c(t,M),c(M,j),c(t,Q),c(t,y),c(y,F),c(t,J),c(t,O),c(O,W),q(a,s,f),q(a,d,f),c(d,z),c(z,x),c(z,R),c(R,ee),c(d,te),c(d,U);for(let h=0;h<m.length;h+=1)m[h].m(U,null);ne||(ue=[H(n,"click",e[8]),H(i,"click",e[9]),H(u,"click",e[6]),H(M,"click",e[5]),H(y,"click",e[10]),H(O,"click",e[11])],ne=!0)},p(a,[f]){if(f&4&&r!==(r=!a[2].length)&&(n.disabled=r),f&2&&k!==(k=!a[1].length)&&(i.disabled=k),f&16&&L!==(L=a[4]?"Hover":"Click")&&we(W,L),f&12441){I=a[0];let h;for(h=0;h<I.length;h+=1){const X=ve(a,I,h);m[h]?m[h].p(X,f):(m[h]=ke(X),m[h].c(),m[h].m(U,null))}for(;h<m.length;h+=1)m[h].d(1);m.length=I.length}},i:re,o:re,d(a){a&&_(t),a&&_(s),a&&_(d),Ne(m,a),ne=!1,Te(ue)}}}function Ge(e,t,n){let o,r,l,i,T;Y(e,V,s=>n(0,o=s)),Y(e,$,s=>n(1,r=s)),Y(e,P,s=>n(2,l=s)),Y(e,N,s=>n(3,i=s)),Y(e,ie,s=>n(4,T=s));const k=()=>{P.update(s=>[...s,o]),$.set([])},p=()=>{k(),V.set(ye()),N.set(void 0)},u=()=>{k(),V.update(s=>s.slice(0).concat(...s.filter(d=>d>0)))},B=s=>{if(i===void 0){N.set(s);return}if(i===s){N.set(void 0);return}try{const d=Ae(o,i,s);k(),V.set(d),N.set(void 0)}catch{N.set(s)}},K=()=>{if(l.length>0){N.set(void 0);const s=l[l.length-1];P.update(d=>d.slice(0,l.length-1)),$.update(d=>[o,...d]),V.set(s)}},M=()=>{if(r.length>0){N.set(void 0);const s=r[0];$.update(d=>d.slice(1)),P.update(d=>[...d,o]),V.set(s)}},j=()=>{Se.update(s=>!s),document.body.classList.toggle("dark")},Q=()=>{ie.update(s=>!s)};let y;const F=s=>{y=setTimeout(()=>{B(s)},200)},J=()=>{clearTimeout(y)};return[o,r,l,i,T,p,u,B,K,M,j,Q,F,J,s=>B(s),s=>F(s),()=>J()]}class Qe extends Ee{constructor(t){super(),He(this,t,Ge,qe,Me,{})}}export{Qe as default};
